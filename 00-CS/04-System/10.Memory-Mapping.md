# Memory Mapping

## Background
- Mapping a file into memory: mapping a file to a process' virtual memory
- Pros of memory mapping:
    - Able to access file without I/O (Can read file contents directly from memory)
    - Able to communicate with other processes
        - One process cannot access another process' memory area
        - However, a process can access a file
        - When one process writes to a memory area that is mapped to a file, the same content is written in the file
        - And another process can read the updated content from the file

## System calls
- `void* mmap (void *addr, size_t length, int prot, int flags, int fd, off_t offset)`
    - addr : address hint for memory to map (NULL used normally)
    - length : bytes length to map
    - offset : offset to designate starting point of mapping
        - maps file's data range from file's starting point + offset to length
        - offset must be page size's multiple
    - prot: memory protection mode
    - flags: mapping state and tactic
    - fd: file descriptor for file to map
    - returns : memory address allocated
- Mapping occurs in unit of |Page|
    - paging system, page: unit of memory block of process